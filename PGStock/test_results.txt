Creating test database for alias 'default'...
Found 109 test(s).
System check identified no issues (0 silenced).
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE...............EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE.F....E..
======================================================================
ERROR: test_analyze_product_performance (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_analyze_product_performance)
Test product performance analysis
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_calculate_kpis (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_calculate_kpis)
Test KPI calculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_calculate_sales_trends (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_calculate_sales_trends)
Test sales trends calculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_get_customer_insights (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_get_customer_insights)
Test customer insights
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_get_top_selling_products (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_get_top_selling_products)
Test getting top selling products
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_predict_stock_needs (inventory.tests.test_additional_services.AnalyticsServiceTestCase.test_predict_stock_needs)
Test stock prediction
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 138, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_export_invoices_to_excel (inventory.tests.test_additional_services.ExportServiceTestCase.test_export_invoices_to_excel)
Test invoice export
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_export_movements_to_excel (inventory.tests.test_additional_services.ExportServiceTestCase.test_export_movements_to_excel)
Test movements export
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_export_products_to_excel (inventory.tests.test_additional_services.ExportServiceTestCase.test_export_products_to_excel)
Test product export
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_export_stock_to_excel (inventory.tests.test_additional_services.ExportServiceTestCase.test_export_stock_to_excel)
Test stock export
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_export_to_csv (inventory.tests.test_additional_services.ExportServiceTestCase.test_export_to_csv)
Test CSV export
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_validate_import_data_invalid (inventory.tests.test_additional_services.ExportServiceTestCase.test_validate_import_data_invalid)
Test import data validation with errors
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_validate_import_data_products (inventory.tests.test_additional_services.ExportServiceTestCase.test_validate_import_data_products)
Test import data validation for products
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 291, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_generate_financial_report (inventory.tests.test_additional_services.ReportServiceTestCase.test_generate_financial_report)
Test financial report generation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 33, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_generate_movement_report (inventory.tests.test_additional_services.ReportServiceTestCase.test_generate_movement_report)
Test movement report generation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 33, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_generate_sales_report (inventory.tests.test_additional_services.ReportServiceTestCase.test_generate_sales_report)
Test sales report generation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 33, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_generate_stock_report (inventory.tests.test_additional_services.ReportServiceTestCase.test_generate_stock_report)
Test stock report generation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_additional_services.py", line 33, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_handle_expense_changes_signal (inventory.tests.test_all_signals.FinancialSignalsTestCase.test_handle_expense_changes_signal)
Test expense change tracking
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « category_id » dans la relation « inventory_expense »
DETAIL:  La ligne en échec contient (1, , 5000.00, 2026-01-25, Test Expense, 2026-01-25 05:00:28.386554+00, 18, 19, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 465, in test_handle_expense_changes_signal
    expense = Expense.objects.create(
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « category_id » dans la relation « inventory_expense »
DETAIL:  La ligne en échec contient (1, , 5000.00, 2026-01-25, Test Expense, 2026-01-25 05:00:28.386554+00, 18, 19, null).


======================================================================
ERROR: test_update_profit_report_on_expense_signal (inventory.tests.test_all_signals.FinancialSignalsTestCase.test_update_profit_report_on_expense_signal)
Test profit report update on expense
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « category_id » dans la relation « inventory_expense »
DETAIL:  La ligne en échec contient (2, , 5000.00, 2026-01-25, Test Expense, 2026-01-25 05:00:30.233874+00, 19, 20, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 452, in test_update_profit_report_on_expense_signal
    expense = Expense.objects.create(
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « category_id » dans la relation « inventory_expense »
DETAIL:  La ligne en échec contient (2, , 5000.00, 2026-01-25, Test Expense, 2026-01-25 05:00:30.233874+00, 19, 20, null).


======================================================================
ERROR: test_update_profit_report_on_invoice_signal (inventory.tests.test_all_signals.FinancialSignalsTestCase.test_update_profit_report_on_invoice_signal)
Test profit report update on invoice
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « date_due » dans la relation « inventory_invoice »
DETAIL:  La ligne en échec contient (1, INV-2026-00001, 2026-01-25, null, paid, 0.00, 16.00, 0.00, 10000.00, , 2026-01-25 05:00:31.928076+00, 2026-01-25 05:00:31.928076+00, 20, 20, 21, f, retail, t, 0.00, 0.00).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 417, in test_update_profit_report_on_invoice_signal
    invoice = Invoice.objects.create(
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\models.py", line 661, in save
    super().save(*args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « date_due » dans la relation « inventory_invoice »
DETAIL:  La ligne en échec contient (1, INV-2026-00001, 2026-01-25, null, paid, 0.00, 16.00, 0.00, 10000.00, , 2026-01-25 05:00:31.928076+00, 2026-01-25 05:00:31.928076+00, 20, 20, 21, f, retail, t, 0.00, 0.00).


======================================================================
ERROR: test_update_profit_report_on_payment_signal (inventory.tests.test_all_signals.FinancialSignalsTestCase.test_update_profit_report_on_payment_signal)
Test profit report update on payment
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « date_due » dans la relation « inventory_invoice »
DETAIL:  La ligne en échec contient (2, INV-2026-00001, 2026-01-25, null, draft, 0.00, 16.00, 0.00, 10000.00, , 2026-01-25 05:00:33.397475+00, 2026-01-25 05:00:33.397475+00, 21, 21, 22, f, retail, t, 0.00, 0.00).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 431, in test_update_profit_report_on_payment_signal
    invoice = Invoice.objects.create(
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\models.py", line 661, in save
    super().save(*args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: ERREUR:  une valeur NULL viole la contrainte NOT NULL de la colonne « date_due » dans la relation « inventory_invoice »
DETAIL:  La ligne en échec contient (2, INV-2026-00001, 2026-01-25, null, draft, 0.00, 16.00, 0.00, 10000.00, , 2026-01-25 05:00:33.397475+00, 2026-01-25 05:00:33.397475+00, 21, 21, 22, f, retail, t, 0.00, 0.00).


======================================================================
ERROR: test_check_stock_after_movement_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_check_stock_after_movement_signal)
Test that low stock check is triggered after stock movement
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_low_stock_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_notify_low_stock_signal)
Test low stock notification signal
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_new_invoice_paid_no_notification (inventory.tests.test_all_signals.InventorySignalsTestCase.test_notify_new_invoice_paid_no_notification)
Test that paid invoices don't create notifications
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_new_invoice_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_notify_new_invoice_signal)
Test invoice creation notification signal
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_payment_received_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_notify_payment_received_signal)
Test payment notification signal
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_track_product_price_changes_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_track_product_price_changes_signal)
Test product price change tracking
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_validate_product_deletion_signal (inventory.tests.test_all_signals.InventorySignalsTestCase.test_validate_product_deletion_signal)
Test product deletion validation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 31, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_handle_receipt_status_change_signal (inventory.tests.test_all_signals.PurchasingSignalsTestCase.test_handle_receipt_status_change_signal)
Test receipt status change notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 296, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_receipt_created_signal (inventory.tests.test_all_signals.PurchasingSignalsTestCase.test_notify_receipt_created_signal)
Test receipt creation notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 296, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_handle_order_status_change_signal (inventory.tests.test_all_signals.SalesSignalsTestCase.test_handle_order_status_change_signal)
Test order status change handling
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 191, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_order_created_signal (inventory.tests.test_all_signals.SalesSignalsTestCase.test_notify_order_created_signal)
Test order creation notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 191, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_order_cancellation_restores_stock (inventory.tests.test_all_signals.SalesSignalsTestCase.test_order_cancellation_restores_stock)
Test that cancelling order restores stock
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 191, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_handle_transfer_validation_signal (inventory.tests.test_all_signals.StockSignalsTestCase.test_handle_transfer_validation_signal)
Test transfer validation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 355, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_transfer_completed_signal (inventory.tests.test_all_signals.StockSignalsTestCase.test_notify_transfer_completed_signal)
Test transfer completion notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_all_signals.py", line 355, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: setUpClass (inventory.tests.test_api.PointOfSaleAPITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1384, in setUpClass
    cls.cls_atomics = cls._enter_atomics()
                      ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1357, in _enter_atomics
    atomic.__enter__()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 454, in get_autocommit
    self.ensure_connection()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 307, in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError

======================================================================
ERROR: setUpClass (inventory.tests.test_api.ProductAPITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1384, in setUpClass
    cls.cls_atomics = cls._enter_atomics()
                      ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1357, in _enter_atomics
    atomic.__enter__()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 454, in get_autocommit
    self.ensure_connection()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 307, in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError

======================================================================
ERROR: setUpClass (inventory.tests.test_api.ReceiptAPITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1384, in setUpClass
    cls.cls_atomics = cls._enter_atomics()
                      ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1357, in _enter_atomics
    atomic.__enter__()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 454, in get_autocommit
    self.ensure_connection()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 307, in patched_ensure_connection
    real_ensure_connection(self, *args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 279, in ensure_connection
    self.connect()
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\base\base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\postgresql\base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\psycopg2\__init__.py", line 135, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError

======================================================================
ERROR: setUpClass (inventory.tests.test_api.StockMovementAPITests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERREUR:  la colonne « point_of_sale_id » de la relation « inventory_userprofile » n'existe pas
LINE 1: ...NTO "inventory_userprofile" ("user_id", "avatar", "point_of_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\test\testcases.py", line 1400, in setUpClass
    cls.setUpTestData()
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_api.py", line 26, in setUpTestData
    cls.user = User.objects.create_superuser(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\models.py", line 173, in create_superuser
    return self._create_user(username, email, password, **extra_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\models.py", line 156, in _create_user
    user.save(using=self._db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\contrib\auth\base_user.py", line 62, in save
    super().save(*args, **kwargs)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1013, in save_base
    post_save.send(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\models.py", line 1168, in create_user_profile
    UserProfile.objects.create(user=instance)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: ERREUR:  la colonne « point_of_sale_id » de la relation « inventory_userprofile » n'existe pas
LINE 1: ...NTO "inventory_userprofile" ("user_id", "avatar", "point_of_...
                                                             ^


======================================================================
ERROR: test_bulk_create_for_staff (inventory.tests.test_notification_service.NotificationServiceTestCase.test_bulk_create_for_staff)
Test creating notifications for all staff users
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: ERREUR:  la colonne « manager_name » de la relation « inventory_pointofsale » n'existe pas
LINE 1: ..."code", "address", "city", "phone", "manager_id", "manager_n...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 47, in setUp
    self.pos = PointOfSale.objects.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.ProgrammingError: ERREUR:  la colonne « manager_name » de la relation « inventory_pointofsale » n'existe pas
LINE 1: ..."code", "address", "city", "phone", "manager_id", "manager_n...
                                                             ^


======================================================================
ERROR: test_create_notification (inventory.tests.test_notification_service.NotificationServiceTestCase.test_create_notification)
Test creating a single notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_delete_old_notifications (inventory.tests.test_notification_service.NotificationServiceTestCase.test_delete_old_notifications)
Test deleting old read notifications
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_get_unread_count (inventory.tests.test_notification_service.NotificationServiceTestCase.test_get_unread_count)
Test getting unread notification count
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_mark_all_as_read (inventory.tests.test_notification_service.NotificationServiceTestCase.test_mark_all_as_read)
Test marking all notifications as read for a user
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_mark_as_read (inventory.tests.test_notification_service.NotificationServiceTestCase.test_mark_as_read)
Test marking notification as read
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_invoice_already_paid_no_notification (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_invoice_already_paid_no_notification)
Test that paid invoices don't create notifications
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_invoice_created (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_invoice_created)
Test invoice creation notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_low_stock (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_low_stock)
Test low stock notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_order_created (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_order_created)
Test order creation notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_order_status_changed (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_order_status_changed)
Test order status change notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_payment_received (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_payment_received)
Test payment received notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_notify_product_price_changed (inventory.tests.test_notification_service.NotificationServiceTestCase.test_notify_product_price_changed)
Test product price change notification
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_notification_service.py", line 56, in setUp
    self.product = Product.objects.create(
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_add_order_item (inventory.tests.test_order_service.OrderServiceTestCase.test_add_order_item)
Test adding item to order
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_calculate_totals (inventory.tests.test_order_service.OrderServiceTestCase.test_calculate_totals)
Test order totals calculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_cancel_order (inventory.tests.test_order_service.OrderServiceTestCase.test_cancel_order)
Test order cancellation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_change_status_invalid (inventory.tests.test_order_service.OrderServiceTestCase.test_change_status_invalid)
Test changing to invalid status fails
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_change_status_to_cancelled (inventory.tests.test_order_service.OrderServiceTestCase.test_change_status_to_cancelled)
Test changing status to cancelled restores stock
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_change_status_to_validated (inventory.tests.test_order_service.OrderServiceTestCase.test_change_status_to_validated)
Test changing status to validated deducts stock
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_order_invalid_type (inventory.tests.test_order_service.OrderServiceTestCase.test_create_order_invalid_type)
Test order creation with invalid type
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_order_success (inventory.tests.test_order_service.OrderServiceTestCase.test_create_order_success)
Test successful order creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_order_with_validation_status (inventory.tests.test_order_service.OrderServiceTestCase.test_create_order_with_validation_status)
Test order creation with validated status deducts stock
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_order_without_items (inventory.tests.test_order_service.OrderServiceTestCase.test_create_order_without_items)
Test order creation fails without items
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_deduct_stock (inventory.tests.test_order_service.OrderServiceTestCase.test_deduct_stock)
Test stock deduction
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_deduct_stock_twice_fails (inventory.tests.test_order_service.OrderServiceTestCase.test_deduct_stock_twice_fails)
Test that deducting stock twice doesn't duplicate
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_remove_order_item (inventory.tests.test_order_service.OrderServiceTestCase.test_remove_order_item)
Test removing item from order
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_restore_stock (inventory.tests.test_order_service.OrderServiceTestCase.test_restore_stock)
Test stock restoration
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_update_order (inventory.tests.test_order_service.OrderServiceTestCase.test_update_order)
Test order update
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_wholesale_order (inventory.tests.test_order_service.OrderServiceTestCase.test_wholesale_order)
Test wholesale order creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_order_service.py", line 56, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_calculate_totals (inventory.tests.test_quote_service.QuoteServiceTestCase.test_calculate_totals)
Test quote totals calculation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_convert_expired_quote_fails (inventory.tests.test_quote_service.QuoteServiceTestCase.test_convert_expired_quote_fails)
Test converting expired quote fails
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_convert_rejected_quote_fails (inventory.tests.test_quote_service.QuoteServiceTestCase.test_convert_rejected_quote_fails)
Test converting rejected quote fails
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_convert_to_invoice (inventory.tests.test_quote_service.QuoteServiceTestCase.test_convert_to_invoice)
Test converting quote to invoice
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_convert_to_order (inventory.tests.test_quote_service.QuoteServiceTestCase.test_convert_to_order)
Test converting quote to order
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_quote_success (inventory.tests.test_quote_service.QuoteServiceTestCase.test_create_quote_success)
Test successful quote creation
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_quote_with_custom_expiration (inventory.tests.test_quote_service.QuoteServiceTestCase.test_create_quote_with_custom_expiration)
Test quote creation with custom expiration date
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_create_quote_without_items (inventory.tests.test_quote_service.QuoteServiceTestCase.test_create_quote_without_items)
Test quote creation fails without items
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_expire_old_quotes (inventory.tests.test_quote_service.QuoteServiceTestCase.test_expire_old_quotes)
Test expiring multiple old quotes
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_expire_quote (inventory.tests.test_quote_service.QuoteServiceTestCase.test_expire_quote)
Test expiring a quote
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_update_accepted_quote_fails (inventory.tests.test_quote_service.QuoteServiceTestCase.test_update_accepted_quote_fails)
Test updating accepted quote fails
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_update_quote (inventory.tests.test_quote_service.QuoteServiceTestCase.test_update_quote)
Test quote update
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_quote_service.py", line 50, in setUp
    self.product1 = Product.objects.create(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 677, in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 567, in __init__
    raise TypeError(
TypeError: Product() got unexpected keyword arguments: 'retail_selling_price'

======================================================================
ERROR: test_gross_profit_calculation (inventory.tests.test_finance_calculations.FinanceCalculationTests.test_gross_profit_calculation)
Test that Gross Profit is correctly calculated based on invoices.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 649, in get
    raise self.model.DoesNotExist(
inventory.models.PointOfSale.DoesNotExist: PointOfSale matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: ERREUR:  la valeur d'une clé dupliquée rompt la contrainte unique « inventory_pointofsale_pkey »
DETAIL:  La clé « (id)=(1) » existe déjà.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_finance_calculations.py", line 22, in setUp
    self.pos, _ = PointOfSale.objects.get_or_create(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 955, in get_or_create
    return self.create(**params), True
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 892, in save
    self.save_base(
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\sql\compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\codeshester0011\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: ERREUR:  la valeur d'une clé dupliquée rompt la contrainte unique « inventory_pointofsale_pkey »
DETAIL:  La clé « (id)=(1) » existe déjà.


======================================================================
FAIL: test_payment_and_status_auto_update (inventory.tests.test_sales_logic.SalesLogicTests.test_payment_and_status_auto_update)
Test de la mise à jour automatique du statut de facture lors des paiements
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Users\codeshester0011\Desktop\GestionSTOCK\PGStock\inventory\tests\test_sales_logic.py", line 212, in test_payment_and_status_auto_update
    self.assertTrue(invoice.stock_deducted)
AssertionError: False is not true

----------------------------------------------------------------------
Ran 100 tests in 155.522s

FAILED (failures=1, errors=81)
Destroying test database for alias 'default'...
Fatal Python error: none_dealloc: deallocating None: bug likely caused by a refcount error in a C extension
Python runtime state: finalizing (tstate=0x00007fff7e103680)

Current thread 0x00004c24 (most recent call first):
  Garbage-collecting
  <no Python frame>
