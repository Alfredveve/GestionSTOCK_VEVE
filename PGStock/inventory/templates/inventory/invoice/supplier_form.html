{% extends 'inventory/base.html' %}

{% block title %}{% if supplier %}Modifier{% else %}Nouveau{% endif %} Fournisseur - GestionSTOCK{% endblock %}

{% block content %}
<div class="fade-in" style="max-width: 900px; margin: 0 auto;">
    <h1>{% if supplier %}‚úèÔ∏è Modifier{% else %}‚ûï Nouveau{% endif %} Fournisseur</h1>
    <p class="text-muted mb-3">{% if supplier %}Modifiez les informations du fournisseur{% else %}Ajoutez un nouveau fournisseur √† votre base de donn√©es{% endif %}</p>

    <div class="card">
        <div class="card-body">
            <form method="post" novalidate>
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                    <div class="alert alert-error" style="margin-bottom: 1.5rem;">{{ form.non_field_errors }}</div>
                {% endif %}

                <h3 style="margin-bottom: 1.5rem;">üìã Informations g√©n√©rales</h3>
                
                <div class="form-group">
                    <label class="form-label" for="{{ form.name.id_for_label }}">Nom du fournisseur *</label>
                    {{ form.name }}
                    {% if form.name.errors %}
                        <small style="color: var(--danger);">{{ form.name.errors.0 }}</small>
                    {% endif %}
                    <small class="text-muted">Raison sociale du fournisseur</small>
                </div>

                <h3 style="margin: 2rem 0 1.5rem 0;">üìû Informations de contact</h3>

                <div class="form-group">
                    <label class="form-label" for="{{ form.contact_person.id_for_label }}">Personne de contact</label>
                    {{ form.contact_person }}
                    {% if form.contact_person.errors %}
                        <small style="color: var(--danger);">{{ form.contact_person.errors.0 }}</small>
                    {% endif %}
                    <small class="text-muted">Nom du repr√©sentant commercial ou contact principal</small>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label" for="{{ form.email.id_for_label }}">Email</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <small style="color: var(--danger);">{{ form.email.errors.0 }}</small>
                        {% endif %}
                        <small class="text-muted">Pour les commandes et notifications</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="{{ form.phone.id_for_label }}">T√©l√©phone</label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                            <small style="color: var(--danger);">{{ form.phone.errors.0 }}</small>
                        {% endif %}
                    </div>
                </div>

                <h3 style="margin: 2rem 0 1.5rem 0;">üìç Localisation</h3>

                <div class="form-group">
                    <label class="form-label" for="{{ form.address.id_for_label }}">Adresse</label>
                    {{ form.address }}
                    {% if form.address.errors %}
                        <small style="color: var(--danger);">{{ form.address.errors.0 }}</small>
                    {% endif %}
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label" for="{{ form.city.id_for_label }}">Ville</label>
                        {{ form.city }}
                        {% if form.city.errors %}
                            <small style="color: var(--danger);">{{ form.city.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="{{ form.country.id_for_label }}">Pays</label>
                        {{ form.country }}
                        {% if form.country.errors %}
                            <small style="color: var(--danger);">{{ form.country.errors.0 }}</small>
                        {% endif %}
                    </div>
                </div>

                <h3 style="margin: 2rem 0 1.5rem 0;">üìù Notes</h3>

                <div class="form-group">
                    <label class="form-label" for="{{ form.notes.id_for_label }}">Notes additionnelles</label>
                    {{ form.notes }}
                    {% if form.notes.errors %}
                        <small style="color: var(--danger);">{{ form.notes.errors.0 }}</small>
                    {% endif %}
                    <small class="text-muted">Conditions de paiement, d√©lais de livraison, etc.</small>
                </div>

                <hr style="margin: 2rem 0;">

                <div class="flex gap-2">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                        ‚úÖ {% if supplier %}Modifier{% else %}Cr√©er{% endif %}
                    </button>
                    <a href="{% url 'inventory:supplier_list' %}" class="btn btn-secondary">
                        ‚ùå Annuler
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
