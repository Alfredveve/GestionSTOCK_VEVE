{% extends 'inventory/base.html' %}
{% load inventory_extras %}

{% block title %}{{ supplier.name }} - GestionSTOCK{% endblock %}

{% block content %}
<div class="page-header">
    <h1>üì¶ {{ supplier.name }}</h1>
    <div>
        <a href="{% url 'inventory:supplier_update' supplier.pk %}" class="btn btn-secondary">‚úèÔ∏è Modifier</a>
        <a href="{% url 'inventory:supplier_list' %}" class="btn btn-secondary">‚Üê Retour</a>
    </div>
</div>

<div class="grid grid-2">
    <div class="card">
        <h2>Informations</h2>
        <table class="info-table">
            <tr><th>Contact:</th><td>{{ supplier.contact_person|default:"-" }}</td></tr>
            <tr><th>Email:</th><td>{{ supplier.email|default:"-" }}</td></tr>
            <tr><th>T√©l√©phone:</th><td>{{ supplier.phone|default:"-" }}</td></tr>
            <tr><th>Adresse:</th><td>{{ supplier.address|default:"-" }}</td></tr>
            <tr><th>Ville:</th><td>{{ supplier.city|default:"-" }}</td></tr>
            <tr><th>Pays:</th><td>{{ supplier.country }}</td></tr>
        </table>
    </div>

    <div class="card">
        <h2>Produits ({{ products.count }})</h2>
        <ul>
            {% for product in products %}
                <li><a href="{% url 'inventory:product_detail' product.pk %}">{{ product.name }}</a></li>
            {% empty %}
                <li>Aucun produit</li>
            {% endfor %}
        </ul>
    </div>
</div>

<div class="card">
    <h2>Bons de R√©ception R√©cents</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Num√©ro</th>
                <th>Date</th>
                <th>Statut</th>
                <th>Montant</th>
            </tr>
        </thead>
        <tbody>
            {% for receipt in receipts %}
            <tr>
                <td><a href="{% url 'inventory:receipt_detail' receipt.pk %}">{{ receipt.receipt_number }}</a></td>
                <td>{{ receipt.date_received }}</td>
                <td><span class="badge badge-{{ receipt.status }}">{{ receipt.get_status_display }}</span></td>
                <td>{{ receipt.total_amount|format_currency:company_settings.currency }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4">Aucun bon de r√©ception</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
